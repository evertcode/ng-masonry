!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/common"),require("@angular/core")):"function"==typeof define&&define.amd?define("ng-masonry",["exports","@angular/common","@angular/core"],e):e(t["ng-masonry"]={},t.ng.common,t.ng.core)}(this,function(t,n,o){"use strict";var r,s,e=function(){function t(t,e){this.platformId=t,this._element=e,this.useImagesLoaded=!1,this.updateLayout=!1,this.layoutComplete=new o.EventEmitter,this.removeComplete=new o.EventEmitter}return t.prototype.ngOnInit=function(){var e=this;this.useImagesLoaded&&r===undefined&&(r=require("imagesloaded")),n.isPlatformBrowser(this.platformId)&&s===undefined&&(s=require("masonry-layout")),this.options||(this.options={}),this.options.itemSelector||(this.options.itemSelector="[ngMasonryItem], ngMasonryItem"),n.isPlatformBrowser(this.platformId)&&(this._msnry=new s(this._element.nativeElement,this.options),this._msnry.on("layoutComplete",function(t){e.layoutComplete.emit(t)}),this._msnry.on("removeComplete",function(t){e.removeComplete.emit(t)}))},t.prototype.ngOnChanges=function(t){t.updateLayout&&(t.updateLayout.firstChange||this.layout())},t.prototype.ngOnDestroy=function(){this._msnry&&this._msnry.destroy()},t.prototype.layout=function(){var t=this;setTimeout(function(){t._msnry.layout()})},t.prototype.reloadItems=function(){var t=this;setTimeout(function(){t._msnry.reloadItems()})},t.prototype.add=function(e){var n=this,o=!1;0===this._msnry.items.length&&(o=!0),this.useImagesLoaded?(r(e,function(t){n._element.nativeElement.appendChild(e),n._msnry.appended(e),o&&n.layout()}),this._element.nativeElement.removeChild(e)):(this._msnry.appended(e),o&&this.layout())},t.prototype.remove=function(t){this._msnry.remove(t),this.layout()},t.decorators=[{type:o.Component,args:[{selector:"[ng-masonry], ng-masonry",template:"<ng-content></ng-content>",styles:["\n\t\t:host {\n\t\t\tdisplay: block;\n\t\t}\n\t"]}]}],t.ctorParameters=function(){return[{type:undefined,decorators:[{type:o.Inject,args:[o.PLATFORM_ID]}]},{type:o.ElementRef}]},t.propDecorators={options:[{type:o.Input}],useImagesLoaded:[{type:o.Input}],updateLayout:[{type:o.Input}],layoutComplete:[{type:o.Output}],removeComplete:[{type:o.Output}]},t}(),i=function(){function t(t,e,n){this._element=t,this._parent=e,this.platformId=n}return t.prototype.ngAfterViewInit=function(){n.isPlatformBrowser(this.platformId)&&(this._parent.add(this._element.nativeElement),this.watchForHtmlChanges())},t.prototype.ngOnDestroy=function(){n.isPlatformBrowser(this.platformId)&&this._parent.remove(this._element.nativeElement)},t.prototype.watchForHtmlChanges=function(){if(MutationObserver=window.MutationObserver||window.WebKitMutationObserver,MutationObserver){var n=this;new MutationObserver(function(t,e){n._parent.layout()}).observe(this._element.nativeElement,{subtree:!0,childList:!0})}},t.decorators=[{type:o.Directive,args:[{selector:"[ngMasonryItem], ngMasonryItem"}]}],t.ctorParameters=function(){return[{type:o.ElementRef},{type:e,decorators:[{type:o.Inject,args:[o.forwardRef(function(){return e})]}]},{type:undefined,decorators:[{type:o.Inject,args:[o.PLATFORM_ID]}]}]},t}(),a=function(){function t(){}return t.decorators=[{type:o.NgModule,args:[{declarations:[e,i],imports:[],exports:[e,i]}]}],t}();t.NgMasonryComponent=e,t.NgMasonryDirective=i,t.NgMasonryModule=a,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ng-masonry.umd.min.js.map